
<!-- Hero Section -->
<section class="video-hero">
  <div class="hero-content">
    <h1>أفلامي - My Films</h1>
    <p>مجموعة من أفلامي الوثائقية والتعليمية</p>
    <p class="subtitle">A collection of my documentary and educational films</p>
  </div>
</section>

<!-- Main Container -->
<div class="video-container">
  @if (loading()) {
    <div class="loading-state">
      <div class="spinner"></div>
      <p>جاري تحميل الأفلام...</p>
    </div>
  } @else if (videos().length === 0) {
    <div class="empty-state">
      <i class="fas fa-video"></i>
      <p>لا توجد أفلام متاحة حالياً</p>
    </div>
  } @else {
    <!-- Video Grid -->
    <div class="videos-grid">
      @for (video of videos(); track video.id) {
        <div class="video-card" (click)="openVideo(video)">
          <!-- Thumbnail -->
          <div class="thumbnail-wrapper">
            <img alt=""
              [src]="video.thumbnail"
              [alt]="video.title"
              class="thumbnail"
              loading="lazy">
            <div class="play-button">
              <i class="fas fa-play"></i>
            </div>
            <div class="overlay"></div>
          </div>

          <!-- Video Info -->
          <div class="video-info">
            <h3>{{ video.title }}</h3>
            @if (video.description) {
              <p class="description">{{ video.description }}</p>
            }
            <div class="watch-button">
              <span>شاهد الآن</span>
              <i class="fas fa-arrow-left"></i>
            </div>
          </div>
        </div>
      }
    </div>
  }
</div>

<!-- Video Modal -->
@if (selectedVideo(); as video) {
  <div class="video-modal">
    <!-- Backdrop -->
    <div class="modal-backdrop" (click)="closeVideo()"></div>

    <!-- Modal Content -->
    <div class="modal-content">
      <!-- Header -->
      <div class="modal-header">
        <h2>{{ video.title }}</h2>
        <button class="close-btn" (click)="closeVideo()">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <!-- Video Player -->
      <div class="video-player">
        <iframe
          [src]="getSafeEmbedUrl(video.url)"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
          title="{{ video.title }}">
        </iframe>
      </div>

      <!-- Description -->
      @if (video.description) {
        <div class="modal-description">
          {{ video.description }}
        </div>
      }
    </div>
  </div>
}
