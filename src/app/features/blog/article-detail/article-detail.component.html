<div class="article-container">
  @if (loading()) {
    <p class="loading-message">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„...</p>
  } @else {

    @if (article(); as art) {
      <header class="article-header">
        <button (click)="goBack()" class="back-button">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
        <h1 class="article-title">{{ art.title }}</h1>
        <p class="article-meta">
          Ù†ÙØ´Ø± ÙÙŠ {{ art.published_at | date: 'fullDate' }}
          <span class="category-badge">{{ art.category }}</span>
        </p>
      </header>

      @if (art.cover_image_url) {
        <img  alt=" " [src]="art.cover_image_url" [alt]="art.title" class="cover-image">
      }

      @if (art.is_link && art.article_link) {
        @if (art.article_link.includes('docs.google.com')) {
          <div class="document-viewer-wrapper">
            <div class="iframe-controls">
              <a [href]="art.article_link" target="_blank" rel="noopener noreferrer" class="control-btn">
                ğŸ”— ÙØªØ­ ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©
              </a>
            </div>
            <div class="iframe-wrapper">
              <iframe
                class="document-iframe"
                [src]="art.article_link + '?embedded=true' | safeUrl"
                frameborder="0"
                title="{{ art.title }}">
              </iframe>
            </div>
          </div>
        } @else {
          <div class="document-viewer-wrapper">
            <ngx-doc-viewer
              [url]="art.article_link"
              viewer="google"
              class="doc-viewer">
            </ngx-doc-viewer>
          </div>
        }
      } @else {
        <article class="article-content" [innerHTML]="art.content"></article>
      }
    } @else {
      <p class="empty-message">
        Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù‚Ø§Ù„. <button (click)="goBack()" class="back-button">Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
      </p>
    }
  }
</div>
