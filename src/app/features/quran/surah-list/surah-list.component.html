<!-- FILE: src/app/features/quran/surah-list/surah-list.component.html -->

<div class="surah-list-container">
  <!-- Word Document Buttons -->
  <div class="word-buttons">
    <!-- Dedica Button -->
    <button
      (click)="openDedica()"
      class="word-btn"
      [class.active]="currentViewType() === 'dedica'">
      <i class="fas fa-file-word"></i>
      <span>Dedica</span>
    </button>

    <!-- Introduzione Button -->
    <button
      (click)="openIntroduzione()"
      class="word-btn"
      [class.active]="currentViewType() === 'introduzione'">
      <i class="fas fa-file-word"></i>
      <span>Introduzione</span>
    </button>
  </div>

  <!-- List Header -->
  <div class="list-header">
    <div class="filter-group">
      <label>Scegli la Sura:</label>
      <select
        [ngModel]="selectedSurahId()"
        (ngModelChange)="onSurahChange($event)">
        <option [ngValue]="null">Tutti i muri</option>
        <option *ngFor="let surah of filteredSurahs()" [ngValue]="surah.id">
          {{ surah.name_ar }} - {{ surah.name_en }}
        </option>
      </select>
    </div>

    <div class="filter-group">
      <label>Scegli il versetto:</label>
      <select
        [ngModel]="selectedAyah()"
        (ngModelChange)="onAyahChange($event)">
        <option [ngValue]="null">Tutti i versi</option>
        <option *ngFor="let ayah of filteredAyahs()" [ngValue]="ayah">
          {{ ayah }}
        </option>
      </select>
    </div>
  </div>

  <!-- Surah Navigation List -->
  <nav class="surah-nav">
    <a
      *ngFor="let surah of filteredSurahs()"
      class="surah-link"
      [routerLink]="['/quran', 'surah', surah.id]"
      (click)="onSurahLinkClick(surah.id)"
      [class.active]="currentViewType() === 'surah' && surah.id === selectedSurahId()">
      <div class="surah-main-info">
        <span class="surah-number">{{ surah.order_number }}</span>
        <div class="surah-names">
          <span class="name-ar">{{ surah.name_ar }}</span>
          <span class="name-en">{{ surah.name_en }}</span>
        </div>
      </div>

      <div class="surah-meta-info">
        <span class="name-en-translation">{{ surah.name_en_translation }}</span>
        <div class="details">
          <span class="separator">â€¢</span>
          <span>{{ surah.ayah_count }} Verses</span>
        </div>
      </div>
    </a>
  </nav>
</div>
